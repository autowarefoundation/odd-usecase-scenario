IMPORT:
  - ../ODD_Taxonomy_Extended.yaml

ODD:
  pov_vision_pilot_main_module:
    TITLE: ODD for Vision Pilot
    DESCRIPTION: This module defines the ODD for the Vision Pilot product of the PoV Working Group.
    INCLUDE_AND:
      module_l3_lane_keeping: true
      module_l3_adaptive_cruise_control: true
      module_l3_emergency_braking: true

MODULES:
  module_l3_lane_keeping:
    TITLE: ODD of the L3 Lane Keeping behavior
    INCLUDE_AND:
      horizontal_plane:
        - straight_lines
        - curves
      curvature: "[xx .. yy] 1/m"
      transverse_plane_type:
        - divided
        - undivided
        - pavements
      bank_angle: "[xx .. yy] deg"
      superelevation_banking:
        - any_superelevation_banking # newly added to avoid empty categoricals
      longitudinal_plane:
        - up-slope # positive gradient
        - down-slope # negative-gradient
        - level_plane
      inclination_angle: "[xx .. yy] deg"
      lane_dimensions:
        - any_lane_dimension # newly added to avoid empty categoricals
      lane_marking:
        - clear_lane_marking
        - blurred_lane_marking
        - no_lane_marking
        - temporary_lane_marking
      drivable_area_edge:
        - line_markers
        - snowbanks
        - solid_barriers # e.g. grating, rails, curb, cones
        - temporary_line_marker
        - none
      drivable_area_surface_type:
        - asphalt
        - cement_concrete
      damages:
        - cracks
        - potholes
        - ruts
        - swells
    EXCLUDE_OR:
      bad_weather: true
      bad_visibility: true

  module_l3_adaptive_cruise_control:
    TITLE: ODD of the L3 Adaptive Cruise Control behavior
    INCLUDE_AND:
      horizontal_plane:
        - straight_lines
        - curves
      superelevation_banking:
        - any_superelevation_banking # newly added to avoid empty categoricals
      longitudinal_plane:
        - up-slope # positive gradient
        - down-slope # negative-gradient
        - level_plane
    EXCLUDE_OR:
      bad_weather: true
      bad_visibility: true

  module_l3_emergency_braking:
    TITLE: ODD of the L3 Emergency Braking behavior
    INCLUDE_AND:
      horizontal_plane:
        - straight_lines
        - curves
      superelevation_banking:
        - any_superelevation_banking # newly added to avoid empty categoricals
      longitudinal_plane:
        - up-slope # positive gradient
        - down-slope # negative-gradient
        - level_plane
    EXCLUDE_OR:
      bad_weather: true
      bad_visibility: true

  module_low_lighting:
    LABEL: bad_visibility
    INCLUDE_OR:
      illuminance: "<= x lux"
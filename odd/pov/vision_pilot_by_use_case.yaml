IMPORT:
  - ../ODD_Taxonomy_Extended.yaml

ODD:
  pov_vision_pilot_main_module:
    TITLE: ODD definition for the Vision Pilot product
    DESCRIPTION: This module defines the ODD for the Vision Pilot product of the PoV Working Group.
    INCLUDE_AND:
      module_l3_highway_single_lane_driving: true
      module_visible_lanes: true
    EXCLUDE_OR:
      unhandled_objects: true
      poor_control_conditions: true
      poor_visibility_conditions: true

MODULES:
  module_l3_highway_single_lane_driving:
    TITLE: Road definition for L3 highway driving on single lane
    INCLUDE_AND:
      drivable_area_type: motorways_or_highways_or_interstates
      horizontal_plane:
        - straight_lines
        - curves
      curvature: ">= 0.05 1/m"
      transverse_plane_type: pavements
      bank_angle: "[-30 .. 30] deg"
      longitudinal_plane:
        - up-slope # positive gradient
        - down-slope # negative-gradient
        - level_plane
      inclination_angle: "[-30 .. 30] deg"
      lane_dimensions:
        - any_lane_dimension
      lane_marking:
        - clear_lane_marking
        - blurred_lane_marking
        - no_lane_marking
        - temporary_lane_marking
      direction_of_travel:
        - right-hand_travel
        - left-hand_travel
      sign_types:
        - regulatory_signs # e.g. traffic lights
        - warning_signs
        - information_signs
      sign_features:
        - movable_signs
        - fixed_signs
      drivable_area_surface_type:
        - asphalt
        - cement_concrete
      temporary_drivable_area_structures:
        - construction_site_detour
        - road_work
        - signage
      damages:
        - cracks
        - potholes
        - ruts
        - swells
    EXCLUDE_OR:
      module_highway_complex_structures: true
      module_highway_junctions: true

  module_highway_complex_structures:
    TITLE: Complex areas expected on the highway
    INCLUDE_OR:
      special_structures_type:
        - automatic_access_control_barrier
        - bridge
        - pedestrian_crossing
        - rail_crossing
        - tunnel
        - toll_plaza
      artificial_features:
        - speed_bumps
        - intentional_speed_reduction_obstacles
      temporary_drivable_area_structures:
        - construction_site_detour
        - refuse_collection
        - road_work
        - signage

  module_highway_junctions:
    TITLE: Junction areas expected on the highway
    INCLUDE_OR:
      drivable_area_type: slip_roads_or_off-ramps
      roundabout:
        - mini
        - compact
        - normal
        - large
      intersection:
        - t-junction
        - y-junction
        - cross_road
        - staggered
        - grade_separated

  module_poor_control_conditions:
    TITLE: Conditions that negatively affect the ADS' control capabilities
    LABEL: poor_control_conditions
    INCLUDE_OR:
      wind_speed: ">= 20 m/s"
      drivable_area_included_surface_condition:
        - icy
        - flooded
        - standing_water
        - snow_on_surface
        - wet
        - surface_contamination

  module_poor_visibility_conditions:
    TITLE: Conditions that negatively affect the ADS' sensing capabilities
    LABEL: poor_visibility_conditions
    INCLUDE_OR: 
      rainfall_rate: ">= 20 mm/h"
      snowfall_visibility: "<= 100 m"
      illuminance: "<= 10 lux"

  module_unhandled_objects:
    TITLE: Objects that cannot be handled by the ADS
    LABEL: unhandled_objects
    INCLUDE_OR:
      agent_type:
        - motor_vehicle
        - non-motor_vehicle
        - vulnerable_road_users
        - animals
        - horse_riders
      presence_of_special_vehicles:
        - ambulances
        - police_vehicles
        - work_vehicles


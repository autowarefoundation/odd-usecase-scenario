# Feature: Emergency braking against pedestrians and animals

Ensures that ego is able to fully stop when faced with a situation of imminent collision with a pedestrian or animal. This is required to provide a safety measure for sudden unpredicted changes in the driving environment.

## Scenario Outline: Stop safely when a pedestrian jumps into ego's lane

Confirm that ego is able to stop safely when a pedestrian jumps into the road ahead of ego, up to a certain degree.

* Given Ego is driving at <vxi_ego> on the lane closest to a road edge
* And Animal0 is on the neighboring edge of the road, ahead of ego

* When Ego approaches Animal0 longitudinally, to within <dx_ego_pedestrian0>
* And later Animal0 enters the ego lane within the timespan of <time_cut_in_pedestrian0>
* Then Ego starts decelerating
* And Ego reaches standstill
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego  | dx_ego_pedestrian0 | time_cut_in_pedestrian0 | axmin_ego  |
  | -------- | ------------------ | ----------------------- | ---------- |
  | 90 km/h  | 100 m              | 4 s                     | -5.0 m/s^2 |
  | 100 km/h | 120 m              | 4 s                     | -5.0 m/s^2 |
  | 110 km/h | 150 m              | 4 s                     | -5.0 m/s^2 |


## Scenario Outline: Stop safely when an animal jumps into ego's lane

Confirm that ego is able to stop safely when an animal jumps into the road ahead of ego, up to a certain degree.

* Given Ego is driving at <vxi_ego> on the lane closest to a road edge
* And Animal0 is on the neighboring edge of the road, ahead of ego

* When Ego approaches Animal0 longitudinally, to within <dx_ego_animal0>
* And later Animal0 enters the ego lane within the timespan of <time_cut_in_animal0>
* Then Ego starts decelerating
* And Ego reaches standstill
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego  | dx_ego_animal0 | time_cut_in_animal0 | axmin_ego  |
  | -------- | -------------- | ------------------- | ---------- |
  | 90 km/h  | 100 m          | 4 s                 | -5.0 m/s^2 |
  | 100 km/h | 120 m          | 4 s                 | -5.0 m/s^2 |
  | 110 km/h | 150 m          | 4 s                 | -5.0 m/s^2 |

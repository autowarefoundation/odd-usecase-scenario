# Feature: Maintain safe distance from preceding motorcycle

Ensures that ego is able to keep a safe distance from a preceding motorcycle under different scenarios.
This is required to provide ego with enough time to react to sudden changes in movement of the preceding motorcycle, or other traffic participants ahead. 

## Scenario Outline: Maintain safe distance from preceding motorcycle that drives slower than ego

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a preceding motorcycle that drives at a constant speed slower than itself.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is positioned ahead of ego, in the same driving lane
* And Motorbike0 is driving at <vxi_motorbike0>, smaller than <vxi_ego>

* When Ego approaches Motorbike0 up to a safe distance
* Then Ego starts decelerating with rate no faster than <axmin_ego>
* And Ego matches the speed of Motorbike0, <vxi_motorbike0>
* And Ego drives continuously at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_motorbike0 | axmin_ego  |
  | ------- | -------------- | ---------- |
  | 20 km/h | 15 km/h        | -1.5 m/s^2 |
  | 30 km/h | 20 km/h        | -1.5 m/s^2 |
  | 40 km/h | 25 km/h        | -1.5 m/s^2 |


## Scenario Outline: Maintain safe distance from preceding motorcycle that is decelerating partially

Confirm that ego is able to continuously adjust its speed such as to maintain a safe distance from a preceding motorcycle that is decelerating.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is positioned ahead of ego, in the same driving lane
* And Motorbike0 is driving at <vxi_motorbike0>, smaller than <vxi_ego>

* When Ego approaches Motorbike0 up to a safe distance
* Then Ego decelerates to match the speed of Motorbike0, <vxi_motorbike0>

* When Motorbike0 further decelerates to <vx_motorbike0> at a rate of <ax_motorbike0>
* Then Ego further decelerates to match the speed of Motorbike0, <vx_motorbike0>
* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples:

  | vxi_ego | vxi_motorbike0 | axmin_ego  | vx_motorbike0 | ax_motorbike0 |
  | ------- | -------------- | ---------- | ------------- | ------------- |
  | 20 km/h | 15 km/h        | -1.5 m/s^2 | 10 km/h       | -1.0 m/s^2    |
  | 30 km/h | 20 km/h        | -1.5 m/s^2 | 12 km/h       | -1.0 m/s^2    |
  | 40 km/h | 25 km/h        | -1.5 m/s^2 | 15 km/h       | -1.0 m/s^2    |


## Scenario Outline: Maintain safe distance from preceding motorcycle that is decelerating completely

Confirm that ego is able to continuously adjust its speed such as to maintain a safe distance from a preceding motorcycle that decelerates to a standstill.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is positioned ahead of ego, in the same driving lane
* And Motorbike0 is driving at <vxi_motorbike0>, smaller than <vxi_ego>

* When Ego approaches Motorbike0 up to a safe distance
* Then Ego decelerates to match the speed of Motorbike0, <vxi_motorbike0>

* When Motorbike0 further decelerates to a standstill at a rate of <ax_motorbike0>
* Then Ego further decelerates to a standstill
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples:

  | vxi_ego | vxi_motorbike0 | axmin_ego  | ax_motorbike0 |
  | ------- | -------------- | ---------- | ------------- |
  | 20 km/h | 15 km/h        | -1.5 m/s^2 | -1.0 m/s^2    |
  | 30 km/h | 20 km/h        | -1.5 m/s^2 | -1.0 m/s^2    |
  | 40 km/h | 25 km/h        | -1.5 m/s^2 | -1.0 m/s^2    |


## Scenario Outline: Stop safely when detecting a preceding standstill motorcycle

Confirm that ego is able to stop safely when a stopped motorcycle is detected ahead of ego.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is <dxi_ego_motorbike0> ahead of ego, in the same driving lane
* And Motorbike0 is in standstill

* When Ego approaches Motorbike0
* Then Ego starts decelerating with rate no faster than <axmin_ego>
* And Ego reaches standstill
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego  | dxi_ego_motorbike0 | axmin_ego  |
  | -------- | ------------------ | ---------- |
  | 90 km/h  | 150 m              | -1.5 m/s^2 |
  | 100 km/h | 150 m              | -1.5 m/s^2 |
  | 110 km/h | 150 m              | -1.5 m/s^2 |
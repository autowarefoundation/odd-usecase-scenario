# Feature: Maintain safe distance from hidden motorcycle slowing down

Ensures that ego is able to keep a safe distance from a slowing motorcycle that is initially obstructed from ego's perception by another preceding motorcycle. This is required to provide ego with the ability to quickly react to objects detected suddenly.

## Scenario Outline: Maintain safe distance from hidden motorcycle slowing down when preceding motorcycle cuts out to the left

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a decelerating motorcycle that is initially hidden by a preceding motorcycle, when the preceding motorcycle cuts out from ego lane to the left.

* Given Ego is driving at <vxi_ego>
* And Npc0 is positioned ahead of ego, in the same lane
* And Npc0 is driving at a speed <vxi_npc0>, slower than ego
* And Motorbike0 is positioned <dxi_npc0_motorbike0> ahead of Npc0, in the same lane
* And Motorbike0 is driving at the same speed as Npc0, <vxi_npc0>

* When Ego approaches Npc0 longitudinally, to within <dx_ego_npc0>
* And later Npc0 cuts out from the ego lane to the left, within a timespan of <time_cut_in_npc0>
* And Motorbike0 decelerates down to <vx_motorbike0> at a rate of <ax_motorbike0>
* Then Ego starts decelerating to match the speed of Motorbike0, <vx_motorbike0>
* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_npc0 | dxi_npc0_motorbike0 | dx_ego_npc0 | vx_motorbike0 | ax_motorbike0 | time_cut_in_npc0 | axmin_ego  |
  | ------- | -------- | ------------------- | ----------- | ------------  | ------------- | ---------------- | ---------- |
  | 20 km/h | 15 km/h  | 15 m                | 15 m        | 5 km/h        | -1 m/s^2      | 4 s              | -1.5 m/s^2 |
  | 30 km/h | 20 km/h  | 15 m                | 15 m        | 10 km/h       | -1 m/s^2      | 4 s              | -1.5 m/s^2 |
  | 40 km/h | 25 km/h  | 15 m                | 15 m        | 15 km/h       | -1 m/s^2      | 4 s              | -1.5 m/s^2 |


## Scenario Outline: Maintain safe distance from hidden motorcycle slowing down when preceding motorcycle cuts out to the right

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a decelerating motorcycle that is initially hidden by a preceding motorcycle, when the preceding motorcycle cuts out from ego lane to the right.

* Given Ego is driving at <vxi_ego>
* And Npc0 is positioned ahead of ego, in the same lane
* And Npc0 is driving at a speed <vxi_npc0>, slower than ego
* And Motorbike0 is positioned <dxi_npc0_motorbike0> ahead of Npc0, in the same lane
* And Motorbike0 is driving at the same speed as Npc0, <vxi_npc0>

* When Ego approaches Npc0 longitudinally, to within <dx_ego_npc0>
* And later Npc0 cuts out from the ego lane to the right, within a timespan of <time_cut_in_npc0>
* And Motorbike0 decelerates down to <vx_motorbike0> at a rate of <ax_motorbike0>
* Then Ego starts decelerating to match the speed of Motorbike0, <vx_motorbike0>
* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_npc0 | dxi_npc0_motorbike0 | dx_ego_npc0 | vx_motorbike0 | ax_motorbike0 | time_cut_in_npc0 | axmin_ego  |
  | ------- | -------- | ------------------  | ----------- | ------------  | ------------- | ---------------- | ---------- |
  | 20 km/h | 15 km/h  | 15 m                | 15 m        | 5 km/h        | -1 m/s^2      | 4 s              | -1.5 m/s^2 |
  | 30 km/h | 20 km/h  | 15 m                | 15 m        | 10 km/h       | -1 m/s^2      | 4 s              | -1.5 m/s^2 |
  | 40 km/h | 25 km/h  | 15 m                | 15 m        | 15 km/h       | -1 m/s^2      | 4 s              | -1.5 m/s^2 |


# Feature: Maintain safe distance from cutting-in motorcycle

Ensures that ego is able to keep a safe distance from a motorcycle that cuts in ahead of ego, under different scenarios.
This is required to provide ego with enough time to react to sudden changes in movement of the cutting-in motorcycle, or other traffic participants ahead. 

## Scenario Outline: Maintain safe distance from slower motorcycle cutting-in from the left

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a motorcycle that cuts in from the left with a constant speed that is slower than itself.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is positioned ahead of ego, in the neighboring left lane
* And Motorbike0 is driving at <vxi_motorbike0>, smaller than <vxi_ego>, in the same direction

* When Ego approaches Motorbike0 longitudinally, to within <dx_ego_motorbike0>
* And later Motorbike0 cuts into the ego lane within a timespan of <time_cut_in_motorbike0>
* Then Ego starts decelerating to match the speed of Motorbike0, <vxi_motorbike0>
* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_motorbike0 | dx_ego_motorbike0 | time_cut_in_motorbike0 | axmin_ego  |
  | ------- | -------------- | ----------------- | ---------------------- | ---------- |
  | 20 km/h | 15 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |
  | 30 km/h | 20 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |
  | 40 km/h | 25 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |


## Scenario Outline: Maintain safe distance from slower motorcycle cutting-in from the right

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a motorcycle that cuts in from the right with a constant speed that is slower than itself.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is positioned ahead of ego, in the neighboring right lane
* And Motorbike0 is driving at <vxi_motorbike0>, smaller than <vxi_ego>, in the same direction

* When Ego approaches Motorbike0 longitudinally, to within <dx_ego_motorbike0>
* And later Motorbike0 cuts into the ego lane within a timespan of <time_cut_in_motorbike0>
* Then Ego starts decelerating to match the speed of Motorbike0, <vxi_motorbike0>
* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_motorbike0 | dx_ego_motorbike0 | time_cut_in_motorbike0 | axmin_ego  |
  | ------- | -------------- | ----------------- | ---------------------- | ---------- |
  | 20 km/h | 15 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |
  | 30 km/h | 20 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |
  | 40 km/h | 25 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |


## Scenario Outline: Maintain safe distance from motorcycle advancing from a mid-lane position and cutting-in from the left

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a motorcycle that overtakes ego from a position in-between lanes and cuts in from the left.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is positioned in-between ego lane and the neighboring left lane, behind ego
* And Motorbike0 is driving at <vxi_motorbike0>, greater than <vxi_ego>, in the same direction

* When Motorbike0 overtakes ego and reaches a position <dx_ego_motorbike0> ahead of ego
* And later Motorbike0 cuts into the ego lane within a timespan of <time_cut_in_motorbike0>
* Then Ego decelerates to ensure that it keeps a safe distance from Motorbike0

* When Motorbike0 drives away from ego
* Then Ego accelerates back to its original speed <vxi_ego>

* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_motorbike0 | dx_ego_motorbike0 | time_cut_in_motorbike0 | axmin_ego  |
  | ------- | -------------- | ----------------- | ---------------------- | ---------- |
  | 20 km/h | 25 km/h        | 5 m               | 4 s                    | -1.5 m/s^2 |
  | 30 km/h | 40 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |
  | 40 km/h | 55 km/h        | 15 m              | 4 s                    | -1.5 m/s^2 |


## Scenario Outline: Maintain safe distance from motorcycle advancing from a mid-lane position and cutting-in from the right

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a motorcycle that overtakes ego from a position in-between lanes and cuts in from the right.

* Given Ego is driving at <vxi_ego>
* And Motorbike0 is positioned in-between ego lane and the neighboring right lane, behind ego
* And Motorbike0 is driving at <vxi_motorbike0>, greater than <vxi_ego>, in the same direction

* When Motorbike0 overtakes ego and reaches a position <dx_ego_motorbike0> ahead of ego
* And later Motorbike0 cuts into the ego lane within a timespan of <time_cut_in_motorbike0>
* Then Ego decelerates to ensure that it keeps a safe distance from Motorbike0

* When Motorbike0 drives away from ego
* Then Ego accelerates back to its original speed <vxi_ego>

* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_motorbike0 | dx_ego_motorbike0 | time_cut_in_motorbike0 | axmin_ego  |
  | ------- | -------------- | ----------------- | ---------------------- | ---------- |
  | 20 km/h | 25 km/h        | 5 m               | 4 s                    | -1.5 m/s^2 |
  | 30 km/h | 40 km/h        | 10 m              | 4 s                    | -1.5 m/s^2 |
  | 40 km/h | 55 km/h        | 15 m              | 4 s                    | -1.5 m/s^2 |
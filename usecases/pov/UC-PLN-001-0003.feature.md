# Feature: Maintain safe distance from cutting-in vehicle

Ensures that ego is able to keep a safe distance from a vehicle that cuts in ahead of ego, under different scenarios.
This is required to provide ego with enough time to react to sudden changes in movement of the cutting-in vehicle, or other traffic participants ahead. 

## Scenario Outline: Maintain safe distance from slower vehicle cutting-in from the left

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a vehicle that cuts in from the left with a constant speed that is slower than itself.

* Given Ego is driving at <vxi_ego>
* And Npc0 is positioned ahead of ego, in the neighboring left lane
* And Npc0 is driving at <vxi_npc0>, smaller than <vxi_ego>, in the same direction

* When Ego approaches Npc0 longitudinally, to within <dx_ego_npc0>
* And later Npc0 cuts into the ego lane within a timespan of <time_cut_in_npc0>
* Then Ego starts decelerating to match the speed of Npc0, <vxi_npc0>
* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_npc0 | dx_ego_npc0 | time_cut_in_npc0 | axmin_ego  |
  | ------- | -------- | ----------- | ---------------- | ---------- |
  | 20 km/h | 15 km/h  | 15 m        | 4 s              | -1.5 m/s^2 |
  | 30 km/h | 20 km/h  | 15 m        | 4 s              | -1.5 m/s^2 |
  | 40 km/h | 25 km/h  | 15 m        | 4 s              | -1.5 m/s^2 |


## Scenario Outline: Maintain safe distance from slower vehicle cutting-in from the right

Confirm that ego is able to adjust its speed such as to maintain a safe distance from a vehicle that cuts in from the right with a constant speed that is slower than itself.

* Given Ego is driving at <vxi_ego>
* And Npc0 is positioned ahead of ego, in the neighboring right lane
* And Npc0 is driving at <vxi_npc0>, smaller than <vxi_ego>, in the same direction

* When Ego approaches Npc0 longitudinally, to within <dx_ego_npc0>
* And later Npc0 cuts into the ego lane within a timespan of <time_cut_in_npc0>
* Then Ego starts decelerating to match the speed of Npc0, <vxi_npc0>
* And Ego drives continuously at all times
* And Ego keeps its deceleration rate slower than <axmin_ego> at all times
* And Ego drives safely with no collisions at all times

![Overview](./images/UC-PLN-001-0001.drawio.svg)

### Examples: 

  | vxi_ego | vxi_npc0 | dx_ego_npc0 | time_cut_in_npc0 | axmin_ego  |
  | ------- | -------- | ----------- | ---------------- | ---------- |
  | 20 km/h | 15 km/h  | 15 m        | 4 s              | -1.5 m/s^2 |
  | 30 km/h | 20 km/h  | 15 m        | 4 s              | -1.5 m/s^2 |
  | 40 km/h | 25 km/h  | 15 m        | 4 s              | -1.5 m/s^2 |
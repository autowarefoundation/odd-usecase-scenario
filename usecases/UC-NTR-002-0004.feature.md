# Feature: Wait for overtaking vehicle to clear off the ego lane

Ensures the vehicle can safely wait for an oncoming vehicle to clear from the ego lane before proceeding.

## Scenario Outline: Wait for an oncoming vehicle that veers into Ego's lane to overtake a parked vehicle and clear off the lane

Confirm that the vehicle successfully waits until the overtaking vehicle has left the lane when overtaking a vehicle parked in the opposite side.

* Given Ego is driving at <vxi_ego>
* And Npc0 is parked in the neighboring oncoming lane, in the opposite side of the road
* And Npc1 is driving in the oncoming lane, at a position further from Ego than Npc0

* When the longitudinal distance between Npc0 and Ego is below <d_trigger>
* And Npc1 starts to overtake Npc0 with velocity <vx_npc1>
* Then Ego decelerates to a full stop leaving enough margin for Npc1 to pass

* When Npc1 completes the overtake and returns to the oncoming lane
* Then Ego resumes driving
* And Ego reaches the destination
* And Ego drives safely with no collisions at all times
* And Ego does not decelerate at a rate below <amin_ego> at all times

![Overview](./images/UC-NTR-002-0004.drawio.svg)

### Examples

  | vxi_npc0 | vx_npc1 | vxi_ego | d_trigger | d_dec  | w     | amin_ego     |
  | -------- | ------- | ------- | --------- | -----  | ----- | ------------ |
  | 0 km/h   | 15 km/h | 15 km/h | 50 m      | 5.0 m  | 3.0 m | -2.499 m/s^2 |
  | 0 km/h   | 15 km/h | 15 km/h | 50 m      | 5.0 m  | 3.0 m | -2.499 m/s^2 |
  | 0 km/h   | 15 km/h | 15 km/h | 50 m      | 5.0 m  | 3.0 m | -2.499 m/s^2 |
